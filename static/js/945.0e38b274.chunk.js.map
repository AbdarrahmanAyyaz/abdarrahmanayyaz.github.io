{"version":3,"file":"static/js/945.0e38b274.chunk.js","mappings":"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","sources":["lib/gemini.js","hooks/useChatTheme.js","components/MessageFormatter.jsx","components/ChatMessageSimple.jsx","components/VoiceInput.jsx","components/ChatInput.jsx","components/TypingIndicator.jsx","components/EnhancedAIChatWorking.jsx"],"sourcesContent":["import { GoogleGenerativeAI } from \"@google/generative-ai\";\nimport projectCards from \"../context/project_cards.json\";\nimport aboutCards from \"../context/about_cards.json\";\n\n// Check if API key is available\nconst apiKey = process.env.REACT_APP_GOOGLE_GEMINI_API_KEY;\nconsole.log('API Key available:', !!apiKey);\n\nif (!apiKey) {\n  console.warn('Google Gemini API key not found in environment variables');\n}\n\nconst genAI = apiKey ? new GoogleGenerativeAI(apiKey) : null;\n\n// Base Context for AI Training\nconst BASE_PORTFOLIO_CONTEXT = `\nYou are AI Abdarrahman, an AI version of Abdarrahman Ayyaz.\n\nOVERVIEW:\n- Cloud Support Engineer at Oracle (professional role)\n- AI enthusiast who builds solutions in personal time\n- Creates internal tools for developer productivity\n- Builds passion projects like TriagedAI and Advancely\n\nNote: Additional context will be provided dynamically based on the specific question asked.\n\nPERSONAL PHILOSOPHY:\nCONsistency, FOcus, Discipline - These three pillars guide my approach to development, learning, and problem-solving. I believe in building reliable systems, maintaining focused execution, and applying disciplined engineering practices.\n\nTECHNICAL EXPERTISE SUMMARY:\n- 4+ years: React, TypeScript, Modern Frontend Development\n- 2+ years: AI/ML, LLM Integration, Intelligent System Design\n- 2+ years: Cloud Engineering, Scalable Architecture, DevOps\n\n- Computer Science bachelors degree with strong foundations in algorithms, data structures, and software engineering principles.\n\n- Certificate in data science and machine learning from Genentech PINC program\n\nFLAGSHIP PROJECTS:\n\nðŸš€ **TriagedAI - Intelligent Technical Support System**\n**The Problem**: Developers waste hours debugging production issues without proper guidance\n**My Solution**: AI-powered troubleshooting assistant that provides contextual, step-by-step debugging help\n\nTechnical Architecture:\n- **Frontend**: React 18 + TypeScript, Wouter routing, TanStack Query for caching\n- **Backend**: Express.js + TypeScript, RESTful API design\n- **AI Integration**: Perplexity AI API for generating intelligent, contextual responses\n- **Database**: PostgreSQL with Drizzle ORM, complex schema (Users -> Chats -> Messages)\n- **Authentication**: Firebase Auth with token verification middleware\n- **Real-time Features**: Optimistic updates, sentiment analysis, solution tracking\n\nKey Innovations:\n- **Context-Aware AI**: System understands conversation flow and technical context\n- **Solution Tracking**: AI responses can be marked as solutions with user feedback\n- **Interactive Code Examples**: Special tooltip syntax explains technical terms\n- **Multi-conversation Support**: Chat history with conversation management\n- **Smart Routing**: Different response types based on user intent detection\n\nImpact: Helped hundreds of users solve complex production issues with intelligent context understanding\n\nðŸŒŸ **Advancely - AI-Powered Personal Development Platform**\n**The Vision**: Help people systematically achieve their 5-year life goals through AI-guided development\n\nTechnical Architecture:\n- **Frontend**: React + TypeScript, shadcn/ui components, Tailwind CSS\n- **Backend**: Node.js + Express, comprehensive API layer\n- **Dual AI Integration**: \n  - OpenAI for smart tips, vision refinement, task prioritization\n  - Perplexity Sonar for curated learning recommendations with free courses\n- **Database**: PostgreSQL with sophisticated schema for goals, habits, progress tracking\n- **Email System**: Mailjet for automated workflows and user engagement\n- **Authentication**: Firebase with Google OAuth integration\n\nCore Features:\n- **5-Year Goal Framework**: Structured approach across Skills, Wealth, Health, Impact\n- **Intelligent Habit Tracking**: Streak management with adaptive recommendations  \n- **Gamification System**: Points, milestones, achievement tracking\n- **AI-Generated Insights**: Personalized tips based on user behavior patterns\n- **Interactive Onboarding**: Feature tours with contextual guidance\n- **Progress Analytics**: Visual tracking with trend analysis\n\nTechnical Highlights:\n- **Sophisticated State Management**: TanStack Query with optimistic updates\n- **Automated Email Workflows**: Welcome series, progress updates, engagement campaigns\n- **Points System Architecture**: Prevents duplicates, tracks source attribution\n- **Mobile-Responsive Design**: Progressive disclosure, touch-optimized interactions\n\nImpact: Systematic approach to personal development with measurable progress tracking\n\nðŸ§  **Brain Tumor Segmentation Research - Medical AI Innovation**\n**Research Question**: How do different MRI modalities perform in automated brain tumor detection?\n**My Contribution**: Comprehensive analysis using deep learning for medical image segmentation\n\nTechnical Implementation:\n- **Dataset**: BraTS dataset with 369 patients across 4 MRI modalities (T1, T1CE, T2, FLAIR)\n- **Architecture**: U-Net convolutional neural network for precise medical segmentation\n- **Multi-Class Classification**: No Tumor, Necrotic/Non-Enhancing, Edema, Enhancing Tumor\n- **Experimental Design**: 3 systematic experiments comparing single vs multi-modality approaches\n- **Technology Stack**: Python, PyTorch, TensorFlow, Medical Imaging Libraries, Google Colab\n\nKey Research Findings:\n- **FLAIR Modality Superiority**: Achieved 98.3% Dice Coefficient, 96.66% Jaccard Coefficient\n- **Multi-Modality Benefits**: Combined approaches showed improved performance over single modalities\n- **Binary Classification Analysis**: Determined optimal modalities for specific tumor regions\n- **Overfitting Analysis**: Identified and documented model limitations with mitigation strategies\n\nAcademic Impact:\n- **17-Page Research Paper**: Comprehensive documentation of methodology and findings\n- **Conference Presentation**: Presented to hundreds of attendees including industry professionals\n- **Clinical Relevance**: Research guides future medical imaging applications\n- **Reproducible Research**: Detailed methodology for research community\n\nResearch Contribution: Advances understanding of MRI modality effectiveness in automated medical diagnosis\n\nðŸ§¬ **DNA Sequencing Analysis - Computational Biology Research**\n**Objective**: Apply computational methods to genetic sequence analysis for biological insights\n**Approach**: Bioinformatics algorithms for pattern recognition and data visualization\n\nTechnical Scope:\n- **Sequence Analysis**: Applied advanced algorithms for genetic pattern recognition\n- **Data Processing**: Large-scale genomic data handling and preprocessing\n- **Visualization**: Created comprehensive visual representations of genetic variations\n- **Research Methods**: Systematic approach to biological data interpretation\n\nImpact: Contributed to understanding genetic variations with potential medical applications\n\nðŸ’¼ **Sales Professional Portfolio**\n**Purpose**: Modern portfolio for automotive sales professionals with clean UI and dashboard\n**Technical Features**: React, Tailwind, Dashboard UI/UX, Responsive design\n**Status**: Live at https://abdullahayyaz.com\n\nCURRENT TECHNICAL FOCUS:\n- **Vector Databases**: Embedding systems for enhanced AI applications (ChromaDB, Pinecone)\n- **RAG Optimization**: Advanced retrieval-augmented generation techniques\n- **Next.js 14**: Server components, app router, modern React patterns\n- **Multi-Model AI**: Orchestrating different AI services for optimal results\n- **Cloud-Native AI**: Scalable deployment strategies for AI applications\n\nDEVELOPMENT APPROACH:\n- **Clean Architecture**: Modular, maintainable code with comprehensive documentation\n- **User-Centered Design**: Focus on solving real problems with measurable impact\n- **Research-Driven**: Evidence-based decisions with rigorous testing and validation\n- **Continuous Learning**: Staying current with emerging technologies and best practices\n- **Open Collaboration**: Knowledge sharing through mentorship and code reviews\n\nSERVICES & COLLABORATION:\n- **Custom AI Development**: Full-stack intelligent applications with modern architectures\n- **Technical Consultation**: AI/ML integration strategies and architecture guidance  \n- **Research Collaboration**: Medical AI, bioinformatics, and computational research projects\n- **Mentorship**: Code reviews, technical guidance, and knowledge transfer\n- **Speaking**: Technical presentations on AI development and research findings\n\nCOMMUNICATION STYLE:\nI explain complex technical concepts clearly while maintaining precision. I provide specific examples from my actual projects, offer architectural insights, and suggest practical next steps. I'm enthusiastic about technical challenges and always ready to dive deeper into implementation details or research methodologies.\n\nRESPONSE GUIDELINES:\n- ALWAYS keep responses short and conversational (2-3 sentences max)\n- CLEARLY DISTINGUISH between professional work at Oracle vs personal AI projects\n- When asked about work/job: focus on Oracle Cloud Support Engineer role\n- When asked about projects/AI: focus on personal passion projects like TriagedAI and Advancely\n- Only elaborate when specifically asked for \"details\", \"more info\", \"tell me more\", etc.\n- Answer directly and concisely - avoid long explanations unless requested\n- Use simple, clear language - no technical jargon unless asked\n- Always respond as Abdarrahman in first person\n- End with a brief follow-up question if appropriate\n- Use emojis sparingly (max 1 per response)\n`;\n\nexport const initializeGeminiChat = () => {\n  if (!genAI) {\n    throw new Error('Gemini API not initialized - API key missing');\n  }\n  \n  const model = genAI.getGenerativeModel({\n    model: \"gemini-2.5-flash\",\n    generationConfig: {\n      maxOutputTokens: 300,\n      temperature: 0.7,\n    }\n  });\n  \n  return model.startChat({\n    history: [\n      {\n        role: \"user\",\n        parts: [{ text: BASE_PORTFOLIO_CONTEXT }]\n      },\n      {\n        role: \"model\", \n        parts: [{ text: \"Hello! I'm AI Abdarrahman ðŸ‘‹ I build AI solutions and work in cloud engineering. I've created projects like TriagedAI and Advancely, plus some medical AI research. What would you like to know about?\" }]\n      }\n    ]\n  });\n};\n\n// Intent detection for dynamic context\nconst getMessageIntent = (message) => {\n  const lowerMessage = message.toLowerCase();\n\n  if (/(who are you|about you|tell me about yourself|about me|hobbies|interests|outside work|what do you like|coffee chat|coffee|network|family|community|volunteer|values|personal|martial arts|boxing|hiking|travel|con-fo-di|philosophy|discipline|consistency|focus)/i.test(lowerMessage)) {\n    return 'personal';\n  }\n\n  if (/(where do you work|current work|current job|current role|employment|work at|working at|job at|oracle|employer|current company|work experience|career|professional background|cloud support|support engineer)/i.test(lowerMessage)) {\n    return 'work';\n  }\n\n  if (/(triagedai|advancely|brain tumor|portfolio|project|how does|tell me about|what is|realtimesearch|brats)/i.test(lowerMessage)) {\n    return 'project';\n  }\n\n  return 'general';\n};\n\n// Cached markdown content\nlet portfolioMarkdown = null;\nlet resumeMarkdown = null;\n\n// Fetch markdown files dynamically\nconst fetchMarkdownContent = async () => {\n  if (!portfolioMarkdown || !resumeMarkdown) {\n    try {\n      const [portfolioResponse, resumeResponse] = await Promise.all([\n        fetch('/context/aa_portfolio_context.md'),\n        fetch('/context/resume_context.md')\n      ]);\n\n      if (portfolioResponse.ok) {\n        portfolioMarkdown = await portfolioResponse.text();\n      }\n      if (resumeResponse.ok) {\n        resumeMarkdown = await resumeResponse.text();\n      }\n    } catch (error) {\n      console.warn('Failed to fetch markdown files:', error);\n    }\n  }\n};\n\n// Build context based on intent using markdown files + JSON fallback\nconst buildDynamicContext = async (intent) => {\n  await fetchMarkdownContent();\n  let contextBlock = '';\n\n  if (intent === 'personal') {\n    // Extract personal info from portfolio markdown\n    if (portfolioMarkdown) {\n      const aboutSection = portfolioMarkdown.match(/## About Me[\\s\\S]*?(?=##|$)/i);\n      const personalFAQ = portfolioMarkdown.match(/## Personal FAQ[\\s\\S]*?(?=##|$)/i);\n      const philosophy = portfolioMarkdown.match(/### CON-FO-DI Philosophy[\\s\\S]*?(?=###|##|$)/i);\n\n      contextBlock += 'PERSONAL INFO FROM PORTFOLIO:\\n';\n      if (aboutSection) contextBlock += aboutSection[0] + '\\n';\n      if (personalFAQ) contextBlock += personalFAQ[0] + '\\n';\n      if (philosophy) contextBlock += philosophy[0] + '\\n';\n    }\n\n    // Supplement with aboutCards as fallback\n    const personalContext = aboutCards.map(card =>\n      `${card.topic}: ${card.one_liner}`\n    ).join('\\n');\n    contextBlock += `\\nSUPPLEMENTAL PERSONAL INFO:\\n${personalContext}\\n\\n`;\n\n  } else if (intent === 'work') {\n    // Extract work info from resume markdown\n    if (resumeMarkdown) {\n      const currentRole = resumeMarkdown.match(/## Current Role[\\s\\S]*?(?=##|$)/i);\n      const workExperience = resumeMarkdown.match(/## Work Experience[\\s\\S]*?(?=##|$)/i);\n\n      contextBlock += 'WORK INFO FROM RESUME:\\n';\n      if (currentRole) contextBlock += currentRole[0] + '\\n';\n      if (workExperience) contextBlock += workExperience[0] + '\\n';\n    }\n\n  } else if (intent === 'project') {\n    // Extract projects from portfolio markdown first\n    if (portfolioMarkdown) {\n      const projectsSection = portfolioMarkdown.match(/## Projects[\\s\\S]*?(?=##|$)/i);\n      if (projectsSection) {\n        contextBlock += 'PROJECTS FROM PORTFOLIO:\\n' + projectsSection[0] + '\\n';\n      }\n    }\n\n    // Supplement with projectCards for additional details\n    const projectContext = projectCards.slice(0, 3).map(card =>\n      `${card.project}: ${card.one_liner} (Stack: ${card.stack?.join(', ')})`\n    ).join('\\n');\n    contextBlock += `\\nSUPPLEMENTAL PROJECT INFO:\\n${projectContext}\\n\\n`;\n  }\n\n  return contextBlock;\n};\n\nexport const sendMessageToGemini = async (chat, message) => {\n  try {\n    // Detect intent and build dynamic context\n    const intent = getMessageIntent(message);\n    const dynamicContext = await buildDynamicContext(intent);\n\n    // Check if user is asking for more details\n    const wantsDetails = /(tell me more|more details|elaborate|explain|deep dive|how does|architecture|technical|stack)/i.test(message);\n\n    let enhancedMessage = dynamicContext;\n    if (wantsDetails) {\n      enhancedMessage += `${message} (User wants detailed explanation - please provide more comprehensive answer)`;\n    } else {\n      enhancedMessage += `${message} (Keep response brief and conversational - 2-3 sentences max)`;\n    }\n\n    const result = await chat.sendMessage(enhancedMessage);\n    const response = await result.response;\n    const responseText = response.text();\n\n    // Handle empty or very short responses\n    if (!responseText || responseText.trim().length < 5) {\n      console.warn('Empty or very short response from Gemini, using fallback');\n\n      // Use intent-based fallbacks with dynamic context\n      if (intent === 'personal') {\n        return \"I'm passionate about martial arts (boxing), hiking in nature, and travel. I value family, consistency, focus, and discipline (my CON-FO-DI philosophy). I also organized a community food drive during COVID. What would you like to know more about?\";\n      } else if (intent === 'work') {\n        return \"I'm a Cloud Support Engineer at Oracle, helping enterprise developers with production issues and CI/CD pipelines. I also build AI tools as passion projects. What would you like to know?\";\n      } else if (intent === 'project') {\n        return \"I build AI projects like TriagedAI (technical support tool) and Advancely (personal development platform) in my personal time. Which project interests you?\";\n      } else {\n        return \"I'm here to help! Ask me about my work at Oracle, my AI projects, personal interests, or anything else you'd like to know.\";\n      }\n    }\n\n    return responseText;\n  } catch (error) {\n    console.error('Gemini API Error:', error);\n    return \"I'm having trouble connecting right now. You can explore my portfolio sections above, or try asking again in a moment!\";\n  }\n};\n\n// Simple warmup function for compatibility\nexport const warmRagFromPublic = async () => {\n  // This is a placeholder for compatibility with the component\n  // The comprehensive context is now built into the chat initialization\n  return Promise.resolve();\n};\n\nexport const createNewChatSession = () => {\n  return initializeGeminiChat();\n};","import { useState, useEffect, createContext, useContext } from 'react';\nimport { useTheme } from './useTheme';\n\n// Theme definitions\nexport const CHAT_THEMES = {\n  default: {\n    name: 'Professional',\n    colors: {\n      primary: '#1f2937, #374151',\n      surface: 'rgba(255,255,255,0.98), rgba(248,250,252,0.95), rgba(255,255,255,0.98)',\n      header: 'rgba(255,255,255,0.85), rgba(31,41,59,0.05), rgba(255,255,255,0.85)',\n      accent: '1f2937',\n      accentRgb: '31, 41, 55',\n      avatar: 'linear-gradient(135deg, #1f2937 0%, #374151 50%, #4b5563 100%)',\n      button: '#1f2937',\n      buttonHover: '#374151'\n    }\n  },\n  ocean: {\n    name: 'Ocean',\n    colors: {\n      primary: '#3b82f6, #06b6d4',\n      surface: 'rgba(23,37,84,0.95), rgba(30,58,138,0.9), rgba(23,37,84,0.95)',\n      header: 'rgba(23,37,84,0.6), rgba(59,130,246,0.1), rgba(23,37,84,0.6)',\n      accent: '3b82f6',\n      accentRgb: '59, 130, 246',\n      avatar: 'linear-gradient(135deg, #3b82f6 0%, #06b6d4 50%, #0891b2 100%)',\n      button: '#3b82f6',\n      buttonHover: '#2563eb'\n    }\n  },\n  forest: {\n    name: 'Forest',\n    colors: {\n      primary: '#10b981, #16a34a',\n      surface: 'rgba(6,78,59,0.95), rgba(20,83,45,0.9), rgba(6,78,59,0.95)',\n      header: 'rgba(6,78,59,0.6), rgba(16,185,129,0.1), rgba(6,78,59,0.6)',\n      accent: '10b981',\n      accentRgb: '16, 185, 129',\n      avatar: 'linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%)',\n      button: '#10b981',\n      buttonHover: '#059669'\n    }\n  },\n  sunset: {\n    name: 'Sunset',\n    colors: {\n      primary: '#f97316, #ec4899',\n      surface: 'rgba(154,52,18,0.95), rgba(131,24,67,0.9), rgba(154,52,18,0.95)',\n      header: 'rgba(154,52,18,0.6), rgba(249,115,22,0.1), rgba(131,24,67,0.6)',\n      accent: 'f97316',\n      accentRgb: '249, 115, 22',\n      avatar: 'linear-gradient(135deg, #f97316 0%, #ec4899 50%, #be185d 100%)',\n      button: '#f97316',\n      buttonHover: '#ea580c'\n    }\n  },\n  cosmic: {\n    name: 'Cosmic',\n    colors: {\n      primary: '#a855f7, #4f46e5',\n      surface: 'rgba(88,28,135,0.95), rgba(55,48,163,0.9), rgba(88,28,135,0.95)',\n      header: 'rgba(88,28,135,0.6), rgba(168,85,247,0.1), rgba(55,48,163,0.6)',\n      accent: 'a855f7',\n      accentRgb: '168, 85, 247',\n      avatar: 'linear-gradient(135deg, #a855f7 0%, #6366f1 50%, #4f46e5 100%)',\n      button: '#a855f7',\n      buttonHover: '#9333ea'\n    }\n  },\n  minimal: {\n    name: 'Minimal',\n    colors: {\n      primary: '#4b5563, #374151',\n      surface: 'rgba(17,24,39,0.95), rgba(30,41,59,0.9), rgba(17,24,39,0.95)',\n      header: 'rgba(17,24,39,0.6), rgba(75,85,99,0.1), rgba(15,23,42,0.6)',\n      accent: '4b5563',\n      accentRgb: '75, 85, 99',\n      avatar: 'linear-gradient(135deg, #4b5563 0%, #374151 50%, #1f2937 100%)',\n      button: '#4b5563',\n      buttonHover: '#374151'\n    }\n  }\n};\n\n// Theme Context\nconst ChatThemeContext = createContext();\n\nexport const ChatThemeProvider = ({ children }) => {\n  const { theme: systemTheme } = useTheme();\n  const [currentTheme, setCurrentTheme] = useState('default');\n  const [isManualSelection, setIsManualSelection] = useState(false);\n\n  // Single effect to handle both initialization and system theme changes\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('chat-theme');\n    const isManual = localStorage.getItem('chat-theme-manual') === 'true';\n\n    if (isManual && savedTheme && CHAT_THEMES[savedTheme]) {\n      setCurrentTheme(savedTheme);\n    } else {\n      // Auto-select based on system theme\n      const autoTheme = systemTheme === 'dark' ? 'minimal' : 'default';\n      setCurrentTheme(autoTheme);\n      console.log('ChatThemeProvider: Setting theme to:', autoTheme, 'for system theme:', systemTheme);\n    }\n  }, [systemTheme]);\n\n  // Save theme to localStorage when it changes\n  const changeTheme = (themeId) => {\n    if (CHAT_THEMES[themeId]) {\n      setCurrentTheme(themeId);\n      localStorage.setItem('chat-theme', themeId);\n      localStorage.setItem('chat-theme-manual', 'true');\n    }\n  };\n\n  const theme = CHAT_THEMES[currentTheme];\n\n  const value = {\n    currentTheme,\n    theme,\n    changeTheme,\n    availableThemes: Object.keys(CHAT_THEMES)\n  };\n\n  return (\n    <ChatThemeContext.Provider value={value}>\n      {children}\n    </ChatThemeContext.Provider>\n  );\n};\n\n// Custom hook to use chat theme\nexport const useChatTheme = () => {\n  const context = useContext(ChatThemeContext);\n  \n  if (!context) {\n    throw new Error('useChatTheme must be used within a ChatThemeProvider');\n  }\n  \n  return context;\n};\n\n// Hook for individual components (fallback if no provider)\nexport const useChatThemeStandalone = () => {\n  const { theme: systemTheme } = useTheme();\n  const [currentTheme, setCurrentTheme] = useState('default');\n\n  // Single effect to handle both initialization and system theme changes\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('chat-theme');\n    const isManual = localStorage.getItem('chat-theme-manual') === 'true';\n\n    if (isManual && savedTheme && CHAT_THEMES[savedTheme]) {\n      setCurrentTheme(savedTheme);\n    } else {\n      // Auto-select based on system theme\n      const autoTheme = systemTheme === 'dark' ? 'minimal' : 'default';\n      setCurrentTheme(autoTheme);\n      console.log('useChatThemeStandalone: Setting theme to:', autoTheme, 'for system theme:', systemTheme);\n    }\n  }, [systemTheme]);\n\n  const changeTheme = (themeId) => {\n    if (CHAT_THEMES[themeId]) {\n      setCurrentTheme(themeId);\n      localStorage.setItem('chat-theme', themeId);\n      localStorage.setItem('chat-theme-manual', 'true');\n    }\n  };\n\n  return {\n    currentTheme,\n    theme: CHAT_THEMES[currentTheme],\n    changeTheme,\n    availableThemes: Object.keys(CHAT_THEMES)\n  };\n};","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { PrismLight as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { oneDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport javascript from 'react-syntax-highlighter/dist/esm/languages/prism/javascript';\nimport typescript from 'react-syntax-highlighter/dist/esm/languages/prism/typescript';\nimport python from 'react-syntax-highlighter/dist/esm/languages/prism/python';\nimport json from 'react-syntax-highlighter/dist/esm/languages/prism/json';\nimport bash from 'react-syntax-highlighter/dist/esm/languages/prism/bash';\nimport sql from 'react-syntax-highlighter/dist/esm/languages/prism/sql';\nimport jsx from 'react-syntax-highlighter/dist/esm/languages/prism/jsx';\nimport { Copy, Check } from 'lucide-react';\n\n// Register languages\nSyntaxHighlighter.registerLanguage('javascript', javascript);\nSyntaxHighlighter.registerLanguage('typescript', typescript);\nSyntaxHighlighter.registerLanguage('python', python);\nSyntaxHighlighter.registerLanguage('json', json);\nSyntaxHighlighter.registerLanguage('bash', bash);\nSyntaxHighlighter.registerLanguage('sql', sql);\nSyntaxHighlighter.registerLanguage('jsx', jsx);\nSyntaxHighlighter.registerLanguage('js', javascript);\nSyntaxHighlighter.registerLanguage('ts', typescript);\nSyntaxHighlighter.registerLanguage('py', python);\n\nconst MessageFormatter = ({ text, className = \"\" }) => {\n  const [copiedCode, setCopiedCode] = React.useState(null);\n\n  // Technical terms to auto-bold\n  const technicalTerms = [\n    'React', 'TypeScript', 'JavaScript', 'Node.js', 'Express', 'PostgreSQL', 'MongoDB',\n    'Tailwind', 'shadcn', 'Drizzle', 'OpenAI', 'Perplexity', 'Gemini', 'ChatGPT',\n    'AI', 'ML', 'LLM', 'RAG', 'API', 'REST', 'GraphQL', 'Firebase', 'Vercel', 'Netlify',\n    'Docker', 'Kubernetes', 'AWS', 'Azure', 'GCP', 'Oracle Cloud', 'OCI',\n    'Git', 'GitHub', 'CI/CD', 'DevOps', 'Microservices', 'Serverless',\n    'Next.js', 'Nuxt.js', 'Vue.js', 'Angular', 'Svelte', 'Redux', 'Zustand',\n    'TensorFlow', 'PyTorch', 'Pandas', 'NumPy', 'Scikit-learn'\n  ];\n\n  // Project names to highlight\n  const projectNames = [\n    'TriagedAI', 'Advancely', 'RealTimeSearch', 'Brain Tumor Segmentation',\n    'BraTS', 'U-Net', 'FLAIR', 'Janazah Companion'\n  ];\n\n  const handleCopyCode = async (code, index) => {\n    try {\n      await navigator.clipboard.writeText(code);\n      setCopiedCode(index);\n      setTimeout(() => setCopiedCode(null), 2000);\n    } catch (error) {\n      console.error('Failed to copy code:', error);\n    }\n  };\n\n  // Enhanced parsing with smart formatting\n  const parseMessage = (message) => {\n    const parts = [];\n    let lastIndex = 0;\n\n    // Code block pattern (```language\\ncode\\n```)\n    const codeBlockRegex = /```(\\w+)?\\n?([\\s\\S]*?)```/g;\n    let match;\n\n    // Process code blocks first\n    while ((match = codeBlockRegex.exec(message)) !== null) {\n      // Add text before code block\n      if (match.index > lastIndex) {\n        parts.push({\n          type: 'text',\n          content: message.slice(lastIndex, match.index)\n        });\n      }\n\n      // Add code block\n      parts.push({\n        type: 'codeblock',\n        language: match[1] || 'text',\n        content: match[2].trim()\n      });\n\n      lastIndex = match.index + match[0].length;\n    }\n\n    // Add remaining text\n    if (lastIndex < message.length) {\n      parts.push({\n        type: 'text',\n        content: message.slice(lastIndex)\n      });\n    }\n\n    return parts;\n  };\n\n  // Smart formatting for text content\n  const formatText = (text) => {\n    let formatted = text;\n\n    // Format inline code with backticks\n    formatted = formatted.replace(/`([^`]+)`/g,\n      '<code class=\"bg-gray-800/30 border border-gray-600/30 px-2 py-0.5 rounded-md text-gray-200 font-mono text-sm mx-1\">$1</code>'\n    );\n\n    // Auto-bold technical terms\n    technicalTerms.forEach(term => {\n      const regex = new RegExp(`\\\\b(${term})\\\\b`, 'g');\n      formatted = formatted.replace(regex, '<strong class=\"font-bold text-white bg-gray-800/20 px-1 rounded\">$1</strong>');\n    });\n\n    // Highlight project names with special styling\n    projectNames.forEach(project => {\n      const regex = new RegExp(`\\\\b(${project})\\\\b`, 'g');\n      formatted = formatted.replace(regex, '<span class=\"font-bold text-white relative after:content-[\\'\\'] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-black after:opacity-60\">$1</span>');\n    });\n\n    // Format markdown-style bold **text**\n    formatted = formatted.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong class=\"font-bold text-white\">$1</strong>');\n\n    // Format markdown-style italic *text*\n    formatted = formatted.replace(/\\*([^*]+)\\*/g, '<em class=\"italic text-gray-200\">$1</em>');\n\n    // Format links [text](url)\n    formatted = formatted.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g,\n      '<a href=\"$2\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-gray-200 hover:text-white underline underline-offset-2 decoration-gray-400/50 hover:decoration-white transition-colors\">$1</a>'\n    );\n\n    // Format bullet points with custom styling\n    formatted = formatted.replace(/^â€¢ (.+)$/gm,\n      '<div class=\"flex items-start gap-3 my-2\"><div class=\"w-2 h-2 bg-black rounded-full mt-2 flex-shrink-0\"></div><span class=\"text-gray-200 leading-relaxed\">$1</span></div>'\n    );\n\n    // Format numbered lists\n    formatted = formatted.replace(/^\\d+\\.\\s+(.+)$/gm,\n      '<div class=\"flex items-start gap-3 my-2\"><div class=\"w-6 h-6 bg-black rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0\">â€¢</div><span class=\"text-gray-200 leading-relaxed\">$1</span></div>'\n    );\n\n    // Convert line breaks\n    formatted = formatted.replace(/\\n/g, '<br>');\n\n    return formatted;\n  };\n\n  const parsedContent = parseMessage(text);\n\n  return (\n    <div className={`message-formatter ${className}`}>\n      {parsedContent.map((part, index) => {\n        if (part.type === 'codeblock') {\n          const language = part.language.toLowerCase();\n          const isCopied = copiedCode === index;\n\n          return (\n            <motion.div\n              key={index}\n              initial={{ opacity: 0, y: 10, scale: 0.98 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              transition={{\n                delay: index * 0.1,\n                type: \"spring\",\n                stiffness: 300,\n                damping: 30\n              }}\n              className=\"my-4 overflow-hidden rounded-xl border border-white/10 bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm shadow-2xl\"\n            >\n              {/* Enhanced code block header */}\n              <div className=\"flex items-center justify-between bg-gradient-to-r from-gray-800/80 to-gray-700/80 px-4 py-3 border-b border-white/10\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"flex gap-1.5\">\n                    <div className=\"w-3 h-3 bg-red-500/80 rounded-full\"></div>\n                    <div className=\"w-3 h-3 bg-yellow-500/80 rounded-full\"></div>\n                    <div className=\"w-3 h-3 bg-gray-500/80 rounded-full\"></div>\n                  </div>\n                  <span className=\"text-xs font-mono text-gray-400 bg-gray-500/10 px-2 py-1 rounded-md border border-gray-500/20 uppercase tracking-wider\">\n                    {language}\n                  </span>\n                </div>\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  onClick={() => handleCopyCode(part.content, index)}\n                  className=\"flex items-center gap-2 text-xs text-gray-300 hover:text-white transition-colors px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20\"\n                >\n                  {isCopied ? (\n                    <>\n                      <Check size={14} className=\"text-gray-600 dark:text-gray-400\" />\n                      <span className=\"text-gray-600 dark:text-gray-400\">Copied!</span>\n                    </>\n                  ) : (\n                    <>\n                      <Copy size={14} />\n                      <span>Copy</span>\n                    </>\n                  )}\n                </motion.button>\n              </div>\n\n              {/* Enhanced code content with syntax highlighting */}\n              <div className=\"relative\">\n                <SyntaxHighlighter\n                  language={language}\n                  style={oneDark}\n                  customStyle={{\n                    margin: 0,\n                    padding: '1.5rem',\n                    background: 'transparent',\n                    fontSize: '0.875rem',\n                    lineHeight: '1.6',\n                    fontFamily: '\"Fira Code\", \"JetBrains Mono\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace'\n                  }}\n                  showLineNumbers={part.content.split('\\n').length > 5}\n                  lineNumberStyle={{\n                    minWidth: '2.5rem',\n                    paddingRight: '1rem',\n                    color: 'rgba(156, 163, 175, 0.4)',\n                    fontSize: '0.75rem'\n                  }}\n                  wrapLines={true}\n                  wrapLongLines={true}\n                >\n                  {part.content}\n                </SyntaxHighlighter>\n              </div>\n            </motion.div>\n          );\n        }\n\n        return (\n          <motion.div\n            key={index}\n            initial={{ opacity: 0, y: 5 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.05 }}\n            className=\"leading-7 text-gray-200\"\n            dangerouslySetInnerHTML={{\n              __html: formatText(part.content)\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default MessageFormatter;","import { motion } from 'framer-motion';\nimport { Copy, ThumbsUp, Check, Heart } from 'lucide-react';\nimport { useState } from 'react';\nimport MessageFormatter from './MessageFormatter';\nimport profileImage from '../assets/NewPic.png';\n\nconst ChatMessageSimple = ({ message, type, timestamp, onCopy, onLike }) => {\n  const isAI = type === 'ai';\n  const [copied, setCopied] = useState(false);\n  const [liked, setLiked] = useState(false);\n\n  const formatTimestamp = (date) => {\n    if (!date) return '';\n    const now = new Date();\n    const diff = now - date;\n    const minutes = Math.floor(diff / 60000);\n\n    if (minutes < 1) return 'Just now';\n    if (minutes < 60) return `${minutes}m ago`;\n\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  const handleCopy = async () => {\n    try {\n      await onCopy?.(message);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      console.error('Failed to copy message:', error);\n    }\n  };\n\n  const handleLike = () => {\n    setLiked(!liked);\n    onLike?.(message);\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20, scale: 0.95 }}\n      animate={{ opacity: 1, y: 0, scale: 1 }}\n      exit={{ opacity: 0, y: -10, scale: 0.95 }}\n      transition={{\n        type: \"spring\",\n        stiffness: 300,\n        damping: 30,\n        mass: 0.8\n      }}\n      className={`flex gap-2 sm:gap-3 mb-4 sm:mb-6 ${isAI ? 'justify-start' : 'justify-end'}`}\n    >\n      {isAI && (\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          transition={{ delay: 0.1, type: \"spring\", stiffness: 500, damping: 25 }}\n          className=\"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full border-2 border-white/20 shadow-lg flex-shrink-0 overflow-hidden\"\n        >\n          <img\n            src={profileImage}\n            alt=\"Abdarrahman Ayyaz\"\n            className=\"w-full h-full object-cover\"\n            style={{ objectPosition: '70% 70%', transform: 'scale(1.3)' }}\n          />\n        </motion.div>\n      )}\n\n      <div className={`max-w-[90%] sm:max-w-[85%] md:max-w-[75%] ${isAI ? 'order-2' : 'order-1'}`}>\n        {/* Message Header for AI */}\n        {isAI && (\n          <motion.div\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.2 }}\n            className=\"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2 px-1\"\n          >\n            <span className=\"text-xs sm:text-sm font-semibold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-blue-400\">\n              AI Abdarrahman\n            </span>\n            <div className=\"w-1 h-1 bg-gray-500 rounded-full hidden sm:block\"></div>\n            <span className=\"text-xs text-gray-400 hidden sm:inline\">\n              {formatTimestamp(timestamp)}\n            </span>\n            <div className=\"flex items-center gap-1 ml-1 sm:ml-2\">\n              <div className=\"w-1.5 h-1.5 bg-gray-400 dark:bg-gray-500 rounded-full animate-pulse\"></div>\n              <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium\">Online</span>\n            </div>\n          </motion.div>\n        )}\n\n        {/* Message Bubble */}\n        <motion.div\n          initial={{ opacity: 0, scale: 0.9, y: 10 }}\n          animate={{ opacity: 1, scale: 1, y: 0 }}\n          whileHover={{\n            scale: 1.02,\n            y: -2,\n            transition: { duration: 0.2, ease: \"easeOut\" }\n          }}\n          transition={{\n            delay: 0.3,\n            type: \"spring\",\n            stiffness: 200,\n            damping: 20\n          }}\n          className={`\n            message-bubble p-3 sm:p-4 md:p-5 rounded-xl sm:rounded-2xl md:rounded-3xl backdrop-blur-sm border shadow-xl relative overflow-hidden\n            message-hover cursor-pointer group\n            ${isAI\n              ? 'bg-gradient-to-br from-gray-800/60 to-gray-700/40 border-white/10 text-gray-100 hover:from-gray-700/70 hover:to-gray-600/50'\n              : 'bg-gradient-to-br from-purple-600/90 to-blue-600/90 border-purple-400/30 text-white ml-auto hover:from-purple-500/95 hover:to-blue-500/95'\n            }\n          `}\n        >\n          {/* Subtle animated background effect for AI messages */}\n          {isAI && (\n            <div className=\"absolute inset-0 bg-gradient-to-br from-gray-800/5 to-gray-700/5 animate-pulse\"></div>\n          )}\n\n          <div className=\"relative z-10\">\n            <MessageFormatter\n              text={message}\n              className={`text-sm sm:text-base md:text-lg leading-6 sm:leading-7 ${isAI ? 'text-gray-100' : 'text-white'}`}\n            />\n          </div>\n\n          {/* Message glow effect */}\n          <div className={`\n            absolute inset-0 rounded-xl sm:rounded-2xl md:rounded-3xl opacity-0 transition-opacity duration-300 pointer-events-none\n            ${isAI\n              ? 'bg-gradient-to-br from-purple-500/20 to-blue-500/20 group-hover:opacity-100'\n              : 'bg-gradient-to-br from-white/10 to-white/5'\n            }\n          `}></div>\n        </motion.div>\n\n        {/* User timestamp */}\n        {!isAI && (\n          <motion.div\n            initial={{ opacity: 0, x: 10 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.4 }}\n            className=\"flex items-center justify-end gap-1.5 sm:gap-2 mt-1.5 sm:mt-2 px-1\"\n          >\n            <span className=\"text-xs text-gray-400\">You</span>\n            <div className=\"w-1 h-1 bg-gray-500 rounded-full\"></div>\n            <span className=\"text-xs text-gray-400\">\n              {formatTimestamp(timestamp)}\n            </span>\n          </motion.div>\n        )}\n\n        {/* Enhanced Action Buttons for AI messages */}\n        {isAI && (\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.5 }}\n            className=\"flex items-center gap-2 sm:gap-3 mt-3 sm:mt-4 px-1\"\n          >\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={handleCopy}\n              className=\"flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 transition-all duration-200 group touch-manipulation min-h-[40px]\"\n              title=\"Copy message\"\n            >\n              {copied ? (\n                <>\n                  <Check size={12} className=\"text-gray-600 dark:text-gray-400\" />\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium hidden sm:inline\">Copied!</span>\n                </>\n              ) : (\n                <>\n                  <Copy size={12} className=\"text-gray-400 group-hover:text-gray-300 transition-colors\" />\n                  <span className=\"text-xs text-gray-400 group-hover:text-gray-300 transition-colors hidden sm:inline\">Copy</span>\n                </>\n              )}\n            </motion.button>\n\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={handleLike}\n              className={`\n                flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border transition-all duration-200 group touch-manipulation min-h-[40px]\n                ${liked\n                  ? 'bg-pink-500/20 border-pink-400/30 text-pink-400'\n                  : 'bg-white/5 hover:bg-white/10 border-white/10 hover:border-white/20 text-gray-400 hover:text-gray-300'\n                }\n              `}\n              title=\"Like message\"\n            >\n              {liked ? (\n                <>\n                  <Heart size={12} className=\"text-pink-400 fill-current\" />\n                  <span className=\"text-xs text-pink-400 font-medium hidden sm:inline\">Liked</span>\n                </>\n              ) : (\n                <>\n                  <ThumbsUp size={12} className=\"group-hover:text-gray-300 transition-colors\" />\n                  <span className=\"text-xs group-hover:text-gray-300 transition-colors hidden sm:inline\">Like</span>\n                </>\n              )}\n            </motion.button>\n\n          </motion.div>\n        )}\n      </div>\n\n      {!isAI && (\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          transition={{ delay: 0.1, type: \"spring\", stiffness: 500, damping: 25 }}\n          className=\"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center text-xs font-bold text-white flex-shrink-0 shadow-lg border-2 border-white/20\"\n        >\n          You\n        </motion.div>\n      )}\n    </motion.div>\n  );\n};\n\nexport default ChatMessageSimple;","import { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Mic, MicOff, VolumeX } from 'lucide-react';\n\nconst VoiceInput = ({ onTranscript, disabled = false, className = \"\", theme }) => {\n  const [isListening, setIsListening] = useState(false);\n  const [isSupported, setIsSupported] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [interimTranscript, setInterimTranscript] = useState('');\n  const [error, setError] = useState(null);\n  const recognitionRef = useRef(null);\n\n  // Check for browser support\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SpeechRecognition) {\n      setIsSupported(true);\n      \n      // Initialize speech recognition\n      const recognition = new SpeechRecognition();\n      recognition.continuous = true;\n      recognition.interimResults = true;\n      recognition.lang = 'en-US';\n\n      recognition.onstart = () => {\n        setIsListening(true);\n        setError(null);\n      };\n\n      recognition.onend = () => {\n        setIsListening(false);\n        setInterimTranscript('');\n      };\n\n      recognition.onerror = (event) => {\n        setError(event.error);\n        setIsListening(false);\n        setInterimTranscript('');\n        \n        // User-friendly error messages\n        let errorMessage = 'Voice recognition error';\n        switch (event.error) {\n          case 'no-speech':\n            errorMessage = 'No speech detected';\n            break;\n          case 'audio-capture':\n            errorMessage = 'No microphone found';\n            break;\n          case 'not-allowed':\n            errorMessage = 'Microphone permission denied';\n            break;\n          case 'network':\n            errorMessage = 'Network error occurred';\n            break;\n          default:\n            errorMessage = `Error: ${event.error}`;\n        }\n        console.error('Speech recognition error:', errorMessage);\n      };\n\n      recognition.onresult = (event) => {\n        let finalTranscript = '';\n        let interimText = '';\n\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const result = event.results[i];\n          if (result.isFinal) {\n            finalTranscript += result[0].transcript;\n          } else {\n            interimText += result[0].transcript;\n          }\n        }\n\n        if (finalTranscript) {\n          setTranscript(prev => prev + finalTranscript);\n          if (onTranscript) {\n            onTranscript(finalTranscript.trim());\n          }\n        }\n        \n        setInterimTranscript(interimText);\n      };\n\n      recognitionRef.current = recognition;\n    }\n  }, [onTranscript]);\n\n  const startListening = () => {\n    if (!recognitionRef.current || disabled) return;\n    \n    try {\n      setTranscript('');\n      setError(null);\n      recognitionRef.current.start();\n    } catch (error) {\n      console.error('Error starting speech recognition:', error);\n      setError('Failed to start voice recognition');\n    }\n  };\n\n  const stopListening = () => {\n    if (!recognitionRef.current) return;\n    \n    try {\n      recognitionRef.current.stop();\n    } catch (error) {\n      console.error('Error stopping speech recognition:', error);\n    }\n  };\n\n  const toggleListening = () => {\n    if (isListening) {\n      stopListening();\n    } else {\n      startListening();\n    }\n  };\n\n  if (!isSupported) {\n    return (\n      <div className={`voice-input-unsupported ${className}`}>\n        <div className=\"flex items-center gap-2 px-3 py-2 bg-surface/30 border border-border/30 rounded-lg\">\n          <VolumeX size={16} className=\"text-muted\" />\n          <span className=\"text-xs text-muted\">Voice input not supported</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`voice-input ${className}`}>\n      {/* Voice Input Button */}\n      <motion.button\n        whileHover={{ scale: 1.05 }}\n        whileTap={{ scale: 0.95 }}\n        onClick={toggleListening}\n        disabled={disabled}\n        className={`\n          relative p-3 sm:p-3 rounded-xl sm:rounded-2xl transition-all duration-300 border-2 touch-manipulation\n          min-w-[48px] min-h-[48px] flex items-center justify-center backdrop-blur-sm\n          ${isListening\n            ? 'text-red-400 shadow-xl border-red-400/50 bg-red-500/10'\n            : disabled\n              ? 'text-gray-400 cursor-not-allowed border-gray-400/30 bg-gray-500/10'\n              : 'shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95'\n          }\n        `}\n        style={{\n          backgroundColor: isListening\n            ? 'rgba(239, 68, 68, 0.15)'\n            : disabled\n              ? 'rgba(107, 114, 128, 0.1)'\n              : `rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.15)`,\n          borderColor: isListening\n            ? 'rgba(239, 68, 68, 0.4)'\n            : disabled\n              ? 'rgba(107, 114, 128, 0.3)'\n              : `rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.4)`,\n          color: isListening\n            ? '#ef4444'\n            : disabled\n              ? '#9ca3af'\n              : theme?.colors?.button || '#1f2937',\n          boxShadow: isListening\n            ? '0 20px 25px -5px rgba(239, 68, 68, 0.25), 0 10px 10px -5px rgba(239, 68, 68, 0.1)'\n            : disabled\n              ? 'none'\n              : `0 10px 15px -3px rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.2), 0 4px 6px -2px rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.1)`\n        }}\n        title={isListening ? 'Stop listening' : 'Start voice input'}\n      >\n        <AnimatePresence mode=\"wait\">\n          {isListening ? (\n            <motion.div\n              key=\"listening\"\n              initial={{ scale: 0.8, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0.8, opacity: 0 }}\n              className=\"relative\"\n            >\n              <MicOff size={16} className=\"sm:w-5 sm:h-5\" />\n              \n              {/* Pulsing ring animation */}\n              <motion.div\n                className=\"absolute inset-0 border-2 border-red-400 rounded-lg sm:rounded-xl\"\n                animate={{\n                  scale: [1, 1.2, 1],\n                  opacity: [0.8, 0, 0.8]\n                }}\n                transition={{\n                  duration: 1.5,\n                  repeat: Infinity,\n                  ease: \"easeInOut\"\n                }}\n              />\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"idle\"\n              initial={{ scale: 0.8, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0.8, opacity: 0 }}\n            >\n              <Mic size={16} className=\"sm:w-5 sm:h-5\" />\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.button>\n\n      {/* Live Transcript Display */}\n      <AnimatePresence>\n        {(isListening || interimTranscript) && (\n          <motion.div\n            initial={{ opacity: 0, y: 10, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 10, scale: 0.95 }}\n            className=\"absolute bottom-full left-0 right-0 mb-3 p-3 sm:p-4 backdrop-blur-xl border rounded-xl sm:rounded-2xl shadow-2xl max-w-xs sm:max-w-md md:max-w-lg mx-auto z-50\"\n            style={{\n              backgroundColor: `rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.08)`,\n              borderColor: `rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.2)`,\n              backdropFilter: 'blur(24px)',\n              boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25)'\n            }}\n          >\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"flex items-center gap-2\">\n                <motion.div\n                  className=\"w-3 h-3 bg-red-500 rounded-full flex-shrink-0\"\n                  animate={{\n                    opacity: [1, 0.3, 1],\n                    scale: [1, 1.2, 1]\n                  }}\n                  transition={{ duration: 1.2, repeat: Infinity }}\n                />\n                <span className=\"text-sm sm:text-base font-medium text-gray-200\">Listening...</span>\n              </div>\n              <motion.div\n                className=\"flex gap-1\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.3 }}\n              >\n                {[...Array(3)].map((_, i) => (\n                  <motion.div\n                    key={i}\n                    className=\"w-1 h-4 bg-red-500/60 rounded-full\"\n                    animate={{\n                      scaleY: [1, 2, 1],\n                      opacity: [0.5, 1, 0.5]\n                    }}\n                    transition={{\n                      duration: 0.8,\n                      repeat: Infinity,\n                      delay: i * 0.1\n                    }}\n                  />\n                ))}\n              </motion.div>\n            </div>\n            \n            {(transcript || interimTranscript) && (\n              <div className=\"text-sm sm:text-base text-gray-100 bg-gray-800/30 rounded-lg p-3 border border-gray-600/30\">\n                <span className=\"font-medium text-white\">{transcript}</span>\n                <span className=\"text-gray-300 italic\">{interimTranscript}</span>\n              </div>\n            )}\n            \n            {!transcript && !interimTranscript && (\n              <div className=\"text-sm sm:text-base text-gray-400 italic text-center py-2\">\n                <span className=\"hidden sm:inline\">Start speaking your message...</span>\n                <span className=\"sm:hidden\">Start speaking...</span>\n              </div>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Error Display */}\n      <AnimatePresence>\n        {error && (\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 10 }}\n            className=\"absolute bottom-full left-0 right-0 mb-3 p-3 sm:p-4 bg-red-500/10 border border-red-500/30 rounded-xl backdrop-blur-lg shadow-lg max-w-xs sm:max-w-md mx-auto z-50\"\n          >\n            <div className=\"flex items-start gap-3\">\n              <div className=\"flex-shrink-0 mt-0.5\">\n                <VolumeX size={16} className=\"text-red-400\" />\n              </div>\n              <div className=\"flex-1\">\n                <div className=\"text-sm font-medium text-red-400 mb-1\">Voice Input Error</div>\n                <div className=\"text-xs sm:text-sm text-red-300 leading-relaxed\">{error}</div>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default VoiceInput;","import { useState, useEffect } from 'react';\nimport { Send } from 'lucide-react';\nimport VoiceInput from './VoiceInput';\n\nconst ChatInput = ({ onSend, disabled = false, placeholder = \"Ask me about my projects, skills, or experience...\", theme, onFocus, onInputChange }) => {\n  const [message, setMessage] = useState('');\n  const [isFocused, setIsFocused] = useState(false);\n  const [currentPlaceholder, setCurrentPlaceholder] = useState('');\n\n  const placeholders = [\n    \"Try: 'Show me your AI work'\",\n    \"What's your experience?\",\n    \"Tell me about your projects\",\n    \"Show me your best work\",\n    \"What technologies do you use?\"\n  ];\n\n  // Rotating placeholder effect\n  useEffect(() => {\n    let currentIndex = 0;\n    setCurrentPlaceholder(placeholders[0]);\n\n    const interval = setInterval(() => {\n      currentIndex = (currentIndex + 1) % placeholders.length;\n      setCurrentPlaceholder(placeholders[currentIndex]);\n    }, 3000);\n\n    return () => clearInterval(interval);\n  }, [placeholders]);\n\n  // Listen for auto-fill events from both quick actions and expandable pills\n  useEffect(() => {\n    const handleAutoFill = (event) => {\n      setMessage(event.detail);\n      // Auto-focus the input after setting the message\n      setTimeout(() => {\n        const textarea = document.querySelector('textarea');\n        if (textarea) {\n          textarea.focus();\n          textarea.setSelectionRange(textarea.value.length, textarea.value.length);\n          // Add a subtle animation to show the text was filled\n          textarea.style.transition = 'all 0.3s ease';\n          textarea.style.transform = 'scale(1.02)';\n          setTimeout(() => {\n            textarea.style.transform = 'scale(1)';\n          }, 300);\n        }\n      }, 100);\n    };\n\n    window.addEventListener('autoFillQuestion', handleAutoFill);\n    return () => window.removeEventListener('autoFillQuestion', handleAutoFill);\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (message.trim() && !disabled) {\n      onSend(message.trim());\n      setMessage('');\n      // Keep focus on input after sending\n      setTimeout(() => {\n        const textarea = document.querySelector('textarea');\n        if (textarea) {\n          textarea.focus();\n        }\n      }, 100);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  const handleVoiceTranscript = (transcript) => {\n    if (transcript.trim()) {\n      setMessage(prev => prev + transcript + ' ');\n    }\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <form onSubmit={handleSubmit} className=\"p-3 sm:p-6 border-t\" style={{ borderTopColor: `rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.2)` }}>\n        <div className=\"flex gap-2 sm:gap-3 items-end\">\n          <div className=\"flex-1\">\n            <textarea\n              value={message}\n              onChange={(e) => {\n                setMessage(e.target.value);\n                onInputChange?.(e.target.value);\n              }}\n              onKeyDown={handleKeyPress}\n              onFocus={() => {\n                setIsFocused(true);\n                onFocus?.();\n              }}\n              onBlur={() => setIsFocused(false)}\n              placeholder={currentPlaceholder}\n              disabled={disabled}\n              rows={1}\n              className=\"\n                w-full py-3 px-3 sm:px-4 border rounded-xl\n                focus:outline-none focus:ring-2\n                resize-none disabled:opacity-50 disabled:cursor-not-allowed\n                transition-all duration-300 ease-out touch-manipulation\n              \"\n              style={{\n                fontSize: '16px', // Prevents zoom on iOS\n                minHeight: '48px',\n                maxHeight: '120px',\n                backgroundColor: `rgba(255, 255, 255, 0.95)`,\n                borderColor: `rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.4)`,\n                color: '#1f2937',\n                '--tw-ring-color': `rgba(${theme?.colors?.accentRgb || '31, 41, 55'}, 0.6)`,\n                transform: isFocused ? 'scale(1.02)' : 'scale(1)',\n                boxShadow: isFocused ? '0 8px 25px rgba(31, 41, 55, 0.2)' : 'none'\n              }}\n            />\n          </div>\n        \n        {/* Voice Input */}\n        <div className=\"relative\">\n          <VoiceInput \n            onTranscript={handleVoiceTranscript}\n            disabled={disabled}\n            theme={theme}\n          />\n        </div>\n        \n          {/* Send Button */}\n          <button\n            type=\"submit\"\n            disabled={!message.trim() || disabled}\n            className=\"\n              py-3 px-3 sm:px-4 rounded-xl\n              disabled:opacity-50 disabled:cursor-not-allowed\n              transition-all duration-300 ease-out touch-manipulation\n              flex items-center justify-center\n              min-w-[48px] h-[48px]\n              shadow-soft hover:shadow-hover active:scale-95\n            \"\n            style={{\n              backgroundColor: theme?.colors?.button || '#1f2937',\n              ':hover': {\n                backgroundColor: theme?.colors?.buttonHover || '#374151'\n              }\n            }}\n            onMouseEnter={(e) => {\n              e.target.style.backgroundColor = theme?.colors?.buttonHover || '#374151';\n            }}\n            onMouseLeave={(e) => {\n              e.target.style.backgroundColor = theme?.colors?.button || '#1f2937';\n            }}\n          >\n            <Send size={18} className=\"text-white\" />\n          </button>\n        </div>\n\n        {/* Enhanced Hint Text */}\n        <div className=\"text-center mt-2 sm:mt-3\">\n          <p className=\"text-xs text-muted opacity-75\">\n            <span className=\"hidden sm:inline\">Press Enter to send â€¢ Shift + Enter for new line</span>\n            <span className=\"sm:hidden\">Tap send button or press Enter</span>\n          </p>\n          {isFocused && (\n            <p className=\"text-xs text-accent mt-1 animate-pulse\">\n              Ask me anything about my work\n            </p>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ChatInput;","import { motion } from 'framer-motion';\n\nconst TypingIndicator = ({ text = \"AI Abdarrahman is thinking...\" }) => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20, scale: 0.9 }}\n      animate={{ opacity: 1, y: 0, scale: 1 }}\n      exit={{ opacity: 0, y: -10, scale: 0.9 }}\n      transition={{\n        type: \"spring\",\n        stiffness: 300,\n        damping: 25,\n        mass: 0.8\n      }}\n      className=\"flex items-center gap-3 mb-6\"\n    >\n      {/* Avatar */}\n      <motion.div\n        initial={{ scale: 0.8, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        transition={{\n          delay: 0.1,\n          duration: 0.3,\n          ease: \"easeOut\"\n        }}\n        className=\"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center border-2 border-purple-400/40 bg-gradient-to-br from-purple-600/80 to-blue-600/80 shadow-md flex-shrink-0 relative\"\n      >\n        {/* Subtle border pulse */}\n        <motion.div\n          animate={{\n            opacity: [0.4, 0.8, 0.4]\n          }}\n          transition={{\n            duration: 2,\n            repeat: Infinity,\n            ease: \"easeInOut\"\n          }}\n          className=\"absolute inset-0 rounded-full border-2 border-purple-300/60\"\n        />\n      </motion.div>\n\n      {/* Typing Bubble */}\n      <motion.div\n        initial={{ opacity: 0, scale: 0.8, x: -20 }}\n        animate={{ opacity: 1, scale: 1, x: 0 }}\n        transition={{\n          delay: 0.2,\n          type: \"spring\",\n          stiffness: 200,\n          damping: 20\n        }}\n        className=\"max-w-[300px] p-4 sm:p-5 rounded-2xl sm:rounded-3xl backdrop-blur-sm border border-white/10 bg-gradient-to-br from-gray-800/60 to-gray-700/40 shadow-xl relative overflow-hidden\"\n      >\n        {/* Subtle background */}\n        <motion.div\n          animate={{\n            opacity: [0.2, 0.3, 0.2]\n          }}\n          transition={{\n            duration: 3,\n            repeat: Infinity,\n            ease: \"easeInOut\"\n          }}\n          className=\"absolute inset-0 bg-gradient-to-br from-purple-500/8 to-blue-500/8\"\n        />\n\n        <div className=\"relative z-10 flex items-center gap-4\">\n          {/* Enhanced bouncing dots */}\n          <div className=\"flex items-center gap-1.5\">\n            {[0, 1, 2].map((index) => (\n              <motion.div\n                key={index}\n                animate={{\n                  y: [0, -12, 0],\n                  scale: [1, 1.3, 1],\n                  opacity: [0.4, 1, 0.4]\n                }}\n                transition={{\n                  duration: 1.2,\n                  repeat: Infinity,\n                  delay: index * 0.15,\n                  ease: \"easeInOut\",\n                  type: \"tween\"\n                }}\n                className=\"w-2.5 h-2.5 bg-gradient-to-r from-purple-400 via-blue-400 to-pink-400 rounded-full shadow-lg\"\n                style={{\n                  boxShadow: '0 2px 8px rgba(139, 92, 246, 0.4)'\n                }}\n              />\n            ))}\n          </div>\n\n          {/* Typing text */}\n          <motion.span\n            animate={{\n              opacity: [0.6, 1, 0.6]\n            }}\n            transition={{\n              duration: 2,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            }}\n            className=\"text-sm text-gray-300 font-medium\"\n          >\n            {text}\n          </motion.span>\n        </div>\n\n        {/* Subtle border pulse */}\n        <motion.div\n          animate={{\n            opacity: [0.3, 0.7, 0.3]\n          }}\n          transition={{\n            duration: 2.5,\n            repeat: Infinity,\n            ease: \"easeInOut\"\n          }}\n          className=\"absolute inset-0 rounded-2xl sm:rounded-3xl border border-purple-400/30 pointer-events-none\"\n        />\n\n        {/* Floating particles - Hidden on mobile for performance */}\n        <div className=\"absolute inset-0 overflow-hidden rounded-2xl sm:rounded-3xl pointer-events-none particle-effect\">\n          {[...Array(3)].map((_, i) => (\n            <motion.div\n              key={i}\n              initial={{\n                x: Math.random() * 100 + '%',\n                y: '100%',\n                opacity: 0\n              }}\n              animate={{\n                y: '-20%',\n                opacity: [0, 0.6, 0],\n                scale: [0.5, 1, 0.5]\n              }}\n              transition={{\n                duration: 3 + Math.random() * 2,\n                delay: i * 0.7,\n                repeat: Infinity,\n                ease: \"easeOut\"\n              }}\n              className=\"absolute w-1 h-1 bg-purple-400 rounded-full\"\n            />\n          ))}\n        </div>\n      </motion.div>\n\n      {/* Minimal glow effect */}\n      <motion.div\n        animate={{\n          opacity: [0.1, 0.2, 0.1]\n        }}\n        transition={{\n          duration: 3,\n          repeat: Infinity,\n          ease: \"easeInOut\"\n        }}\n        className=\"absolute left-8 sm:left-10 w-16 h-16 bg-gradient-to-r from-purple-500/10 to-blue-500/10 rounded-full blur-lg pointer-events-none -z-10\"\n      />\n    </motion.div>\n  );\n};\n\nexport default TypingIndicator;","import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Focus } from 'lucide-react';\nimport { initializeGeminiChat, sendMessageToGemini, warmRagFromPublic } from '../lib/gemini';\nimport { useChatThemeStandalone } from '../hooks/useChatTheme';\nimport ChatMessageSimple from './ChatMessageSimple';\nimport ChatInput from './ChatInput';\nimport TypingIndicator from './TypingIndicator';\nimport profileImage from '../assets/NewPic.png';\n\nconst categoryData = {\n  projects: {\n    label: 'Projects',\n    icon: 'ðŸ’¼',\n    questions: [\n      \"Tell me about TriagedAI and how it helps with production issues\",\n      \"What's innovative about Advancely's dual AI approach?\",\n      \"Show me your brain tumor segmentation research findings\",\n      \"How did you achieve 98.3% accuracy in medical AI?\"\n    ]\n  },\n  technical: {\n    label: 'Technical',\n    icon: 'âš¡',\n    questions: [\n      \"What's your approach to full-stack AI architecture?\",\n      \"How do you integrate multiple AI services in production?\",\n      \"What are you exploring in vector databases and RAG?\",\n      \"Explain your experience with OCI and cloud infrastructure\"\n    ]\n  },\n  experience: {\n    label: 'Experience',\n    icon: 'ðŸš€',\n    questions: [\n      \"What's your professional background in AI development?\",\n      \"Tell me about your CON-FO-DI development philosophy\",\n      \"How many years have you been working with React/TypeScript?\",\n      \"What's your experience with cloud platforms like OCI?\"\n    ]\n  },\n  about: {\n    label: 'About Me',\n    icon: 'ðŸ‘‹',\n    questions: [\n      \"What do you do outside of work?\",\n      \"What are your hobbies and interests?\",\n      \"Do you do coffee chats?\",\n      \"What causes do you care about?\"\n    ]\n  }\n};\n\nconst EnhancedAIChatWorking = ({\n  onQuestionSelect,\n  chatSize = 'compact',\n  isFocusMode = false,\n  onToggleSize,\n  onToggleFocus,\n  getChatIcon,\n  onInputFocus,\n  onInputChange\n}) => {\n  const { theme } = useChatThemeStandalone();\n  const [chatSessions, setChatSessions] = useState({});\n  const [currentChatId] = useState(1);\n  const [isTyping, setIsTyping] = useState(false);\n  const [expandedCategory, setExpandedCategory] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  const EXPAND_REGEX = /\\b(expand|details|more|deep dive)\\b/i;\n\n  // Initialize first chat with Gemini AI\n  useEffect(() => {\n    const initializeFirstChat = async () => {\n      const hasApiKey = !!process.env.REACT_APP_GOOGLE_GEMINI_API_KEY;\n      \n      if (hasApiKey) {\n        try {\n          console.log('EnhancedAIChatWorking: API key detected, initializing chat...');\n          // Warm external context (fetch + embed + cache all sources)\n          await warmRagFromPublic();\n          console.log('EnhancedAIChatWorking: RAG warming complete, creating chat instance...');\n          const chatInstance = await initializeGeminiChat();\n          console.log('EnhancedAIChatWorking: Chat instance created successfully');\n          const initialMessage = {\n            id: 1,\n            text: \"Welcome to my portfolio! I am AI Abdarrahman, please see the following highlights for a quick overview of my work!\\n\\n**Highlights:**\\nâ€¢ Advancely.ai: dual-AI, goals/habits, **1000+ users**, 40% improvement\\nâ€¢ TriagedAI: context-aware troubleshooting, **60% faster debugging**\\nâ€¢ Brain Tumor Segmentation: BraTS, U-Net, **98.3% accuracy**\\n\\n**Next step:** Ask about any project or say \\\"skills\\\".\",\n            type: 'ai',\n            timestamp: new Date()\n          };\n\n          setChatSessions({\n            1: {\n              id: 1,\n              instance: chatInstance,\n              messages: [initialMessage],\n              title: 'Main Chat'\n            }\n          });\n\n          // Chat initialized successfully\n          console.log('EnhancedAIChatWorking: Chat initialization successful');\n          return;\n        } catch (error) {\n          console.error('EnhancedAIChatWorking: Failed to initialize chat:', error);\n          console.error('EnhancedAIChatWorking: Error details:', error.message);\n        }\n      } else {\n        console.log('EnhancedAIChatWorking: No API key detected, using demo mode');\n      }\n      \n      // Fallback message when API key is not available\n      const fallbackMessage = {\n        id: 1,\n        text: \"Hello! I'm AI Abdarrahman ðŸ‘‹ I'm currently in demo mode. You can explore my portfolio sections above to learn about my projects including TriagedAI, Advancely, and my brain tumor segmentation research. Feel free to contact me directly for any questions!\",\n        type: 'ai',\n        timestamp: new Date()\n      };\n\n      setChatSessions({\n        1: {\n          id: 1,\n          instance: null,\n          messages: [fallbackMessage],\n          title: 'Main Chat'\n        }\n      });\n\n      // Fallback message set\n    };\n\n    initializeFirstChat();\n  }, []);\n\n  // Auto-scroll to top for initial message, bottom for new messages\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      const chatContainer = messagesEndRef.current.closest('.chat-messages');\n      if (chatContainer) {\n        const currentMessages = chatSessions[currentChatId]?.messages || [];\n        // If this is the first message (welcome), scroll to top\n        if (currentMessages.length === 1) {\n          chatContainer.scrollTop = 0;\n        } else {\n          // For new messages, scroll to bottom\n          chatContainer.scrollTop = chatContainer.scrollHeight;\n        }\n      }\n    }\n  }, [chatSessions, currentChatId, isTyping]);\n\n  const addMessage = (chatId, text, type) => {\n    const newMessage = {\n      id: Date.now() + Math.random(),\n      text,\n      type,\n      timestamp: new Date()\n    };\n\n    setChatSessions(prev => ({\n      ...prev,\n      [chatId]: {\n        ...prev[chatId],\n        messages: [...(prev[chatId]?.messages || []), newMessage]\n      }\n    }));\n  };\n\n  const handleSendMessage = async (messageText) => {\n    if (!messageText.trim()) return;\n\n    const currentChat = chatSessions[currentChatId];\n    if (!currentChat) return;\n\n    // Add user message\n    addMessage(currentChatId, messageText, 'user');\n    \n    // Start typing indicator\n    setIsTyping(true);\n    \n    const hasApiKey = !!process.env.REACT_APP_GOOGLE_GEMINI_API_KEY;\n    const expand = EXPAND_REGEX.test(messageText);\n\n    if (hasApiKey && currentChat.instance) {\n      try {\n        const response = await sendMessageToGemini(currentChat.instance, messageText, { expand });\n        \n        // Realistic typing simulation\n        const typingDelay = Math.min(1400 + (response.length * 4), 2800);\n        await new Promise(resolve => setTimeout(resolve, typingDelay));\n        \n        addMessage(currentChatId, response, 'ai');\n      } catch (error) {\n        console.error('Error getting AI response:', error);\n        addMessage(currentChatId, \n          \"I'm having trouble connecting right now, but I'm still here! You can explore my portfolio sections above to learn about my projects, or try asking me again in a moment.\", \n          'ai'\n        );\n        // Error handled\n      } finally {\n        setIsTyping(false);\n      }\n    } else {\n      // Demo mode - provide simple responses when no API key\n      setTimeout(() => {\n        let response = \"Thanks for your interest! I'm currently in demo mode. You can explore my full portfolio above to learn about TriagedAI, Advancely, and my research projects. Feel free to contact me directly to discuss opportunities!\";\n        \n        // Simple keyword-based responses for demo mode\n        const lowerMessage = messageText.toLowerCase();\n        if (lowerMessage.includes('triaged')) {\n          response = \"TriagedAI is one of my flagship projects - an AI-powered technical support system enabling **60% faster debugging** for production issues! It has helped hundreds of users and uses Perplexity AI, React, and PostgreSQL. You can see it in my Work section above.\";\n        } else if (lowerMessage.includes('advancely')) {\n          response = \"Advancely is my AI-powered personal development platform with **1000+ users** achieving **40% habit improvement rates**. It helps people reach their 5-year goals through intelligent habit tracking and personalized recommendations. Check out the Work section for more details!\";\n        } else if (lowerMessage.includes('research') || lowerMessage.includes('brain') || lowerMessage.includes('tumor')) {\n          response = \"My brain tumor segmentation research achieved 98.3% accuracy using deep learning on MRI data. It's fascinating work combining AI with medical imaging - you can see the full details in my Work section!\";\n        } else if (lowerMessage.includes('skills') || lowerMessage.includes('technology') || lowerMessage.includes('tech')) {\n          response = \"I work with AI technologies like OpenAI and LangChain, frontend with React & Tailwind (4+ years), cloud platforms especially Oracle Cloud Infrastructure, and I'm currently exploring Vector DBs and RAG optimization. Check out my Skills section for the full breakdown!\";\n        } else if (lowerMessage.includes('collaborate') || lowerMessage.includes('work together') || lowerMessage.includes('hire')) {\n          response = \"I'd love to collaborate! I'm available for AI development projects, cloud infrastructure work, and frontend development. Feel free to reach out through my Contact form above or email me directly. Let's build something amazing together! ðŸš€\";\n        } else if (lowerMessage.includes('experience') || lowerMessage.includes('background')) {\n          response = \"I have **4+ years** of professional development experience, specializing in AI integration and cloud platforms. I've worked with React/TypeScript extensively, built production AI systems, and have experience with Oracle Cloud Infrastructure. My background spans both frontend development and machine learning research.\";\n        } else if (lowerMessage.includes('education') || lowerMessage.includes('degree') || lowerMessage.includes('study')) {\n          response = \"I have completed my Computer Science degree with a focus on AI and machine learning. My academic work included research in medical imaging AI, particularly brain tumor segmentation using deep learning techniques with 98.3% accuracy.\";\n        } else if (lowerMessage.includes('location') || lowerMessage.includes('where') || lowerMessage.includes('remote')) {\n          response = \"I'm based in [Location] and open to both remote and on-site opportunities. I have experience working with distributed teams and am comfortable with various collaboration tools.\";\n        } else if (lowerMessage.includes('contact') || lowerMessage.includes('email') || lowerMessage.includes('reach')) {\n          response = \"You can reach me through the quick action buttons above! ðŸ“§ Email me directly, connect on LinkedIn, or check out my GitHub. I typically respond within 24 hours and love discussing new opportunities and interesting projects.\";\n        } else if (lowerMessage.includes('portfolio') || lowerMessage.includes('website') || lowerMessage.includes('projects')) {\n          response = \"This portfolio showcases my key projects: **Advancely** (1000+ users, habit tracking), **TriagedAI** (60% faster debugging), and my **research in medical AI** (98.3% accuracy). Each project demonstrates different aspects of my full-stack and AI capabilities.\";\n        }\n        \n        addMessage(currentChatId, response, 'ai');\n        setIsTyping(false);\n      }, 1500);\n    }\n  };\n\n  const handleCopyMessage = async (message) => {\n    try {\n      await navigator.clipboard.writeText(message);\n      // Could add toast notification here\n    } catch (error) {\n      console.error('Failed to copy message:', error);\n    }\n  };\n\n  const handleLikeMessage = (message) => {\n    // Analytics tracking could go here\n    console.log('Message appreciated:', message.substring(0, 50) + '...');\n  };\n\n  const handleCategoryClick = (categoryKey) => {\n    setExpandedCategory(expandedCategory === categoryKey ? null : categoryKey);\n  };\n\n  const handleQuestionClick = (question) => {\n    setExpandedCategory(null);\n\n    // Auto-send the message directly without filling input\n    setTimeout(() => {\n      handleSendMessage(question);\n    }, 100);\n  };\n\n  // Close expanded category when clicking outside\n  useEffect(() => {\n    const handleClickOutside = () => {\n      setExpandedCategory(null);\n    };\n\n    if (expandedCategory) {\n      document.addEventListener('click', handleClickOutside);\n      return () => document.removeEventListener('click', handleClickOutside);\n    }\n  }, [expandedCategory]);\n\n  // Handle ESC key for focus mode\n  useEffect(() => {\n    const handleEscKey = (event) => {\n      if (event.key === 'Escape' && isFocusMode) {\n        onToggleFocus?.();\n      }\n    };\n\n    if (isFocusMode) {\n      document.addEventListener('keydown', handleEscKey);\n      return () => document.removeEventListener('keydown', handleEscKey);\n    }\n  }, [isFocusMode, onToggleFocus]);\n\n  const currentChat = chatSessions[currentChatId];\n  const currentMessages = currentChat?.messages || [];\n\n  return (\n    <div className=\"enhanced-ai-chat w-full max-w-none mx-auto px-2 sm:px-4 md:px-6 h-full\">\n      <div\n        className=\"backdrop-blur-xl border rounded-xl sm:rounded-2xl md:rounded-3xl overflow-hidden shadow-2xl h-full flex flex-col\n                   bg-white/80 border-gray-200\n                   dark:bg-slate-800/80 dark:border-slate-700\"\n      >\n        \n        {/* Chat Header with Controls */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"chat-header p-3 sm:p-4 md:p-6 backdrop-blur-sm border-b relative z-20\n                     bg-gray-50/80 border-gray-200\n                     dark:bg-slate-800/80 dark:border-slate-700\"\n        >\n          {/* Header Controls - Top Right */}\n          <div className=\"absolute top-2 right-2 sm:top-3 md:top-4 sm:right-3 md:right-4 flex items-center gap-1 sm:gap-2\">\n            {/* Expansion Controls */}\n            {(onToggleSize || onToggleFocus) && (\n              <div className=\"flex items-center gap-1\">\n                {onToggleSize && (\n                  <button\n                    onClick={onToggleSize}\n                    className=\"p-1.5 sm:p-2 rounded-lg border transition-all duration-200 min-w-[40px] min-h-[40px] flex items-center justify-center\n                              bg-gray-100 text-gray-700 border-gray-400/30 hover:bg-gray-200 hover:border-gray-500/40\n                              dark:bg-slate-700/50 dark:text-gray-300 dark:border-gray-400/20 dark:hover:bg-slate-600/50 dark:hover:border-gray-300/40\"\n                    title={chatSize === 'fullscreen' ? 'Minimize chat' : 'Expand chat'}\n                  >\n                    {getChatIcon && React.createElement(getChatIcon(), { size: 14 })}\n                  </button>\n                )}\n                {onToggleFocus && (\n                  <button\n                    onClick={onToggleFocus}\n                    className=\"p-1.5 sm:p-2 rounded-lg border transition-all duration-200 min-w-[40px] min-h-[40px] flex items-center justify-center\n                              bg-gray-100 text-gray-700 border-gray-400/30 hover:bg-gray-200 hover:border-gray-500/40\n                              dark:bg-slate-700/50 dark:text-gray-300 dark:border-gray-400/20 dark:hover:bg-slate-600/50 dark:hover:border-gray-300/40\"\n                    title=\"Focus mode\"\n                  >\n                    <Focus size={14} />\n                  </button>\n                )}\n              </div>\n            )}\n\n          </div>\n\n          <div className=\"flex items-center gap-2 sm:gap-3 md:gap-4\">\n            <div\n              className=\"w-10 h-10 sm:w-12 sm:h-12 md:w-16 md:h-16 rounded-full border-2 border-white/20 flex-shrink-0 overflow-hidden\"\n              style={{\n                boxShadow: `0 0 30px rgba(100, 100, 100, 0.3)`\n              }}\n            >\n              <img\n                src={profileImage}\n                alt=\"Abdarrahman Ayyaz\"\n                className=\"w-full h-full object-cover\"\n                style={{ objectPosition: '70% 70%', transform: 'scale(1.3)' }}\n              />\n            </div>\n            <div className=\"flex-1 min-w-0 pr-14 sm:pr-16 md:pr-20\">\n              <h2 className=\"text-base sm:text-lg md:text-2xl font-bold bg-gradient-to-r from-text to-text/80 bg-clip-text text-transparent truncate\">\n                AI Abdarrahman\n              </h2>\n              <p className=\"text-muted mt-0.5 sm:mt-1 text-xs sm:text-sm\">\n                AI & Cloud Support Engineer\n              </p>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Chat Messages Area */}\n        <div\n          className=\"chat-messages flex-1 overflow-y-auto p-4 sm:p-5 md:p-6 space-y-4 sm:space-y-5 md:space-y-6 relative z-10 max-h-[65vh]\n                     bg-gradient-to-b from-gray-50/30 to-transparent\n                     dark:from-slate-800/30 dark:to-transparent\"\n        >\n          <AnimatePresence mode=\"popLayout\">\n            {currentMessages.map((message) => (\n              <ChatMessageSimple\n                key={message.id}\n                message={message.text}\n                type={message.type}\n                timestamp={message.timestamp}\n                onCopy={handleCopyMessage}\n                onLike={handleLikeMessage}\n              />\n            ))}\n          </AnimatePresence>\n          \n          {isTyping && (\n            <TypingIndicator />\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n\n\n        {/* Show Quick Action Pills above input only when no conversation has started */}\n        {currentMessages.length <= 1 && (\n          <div className=\"flex-shrink-0 p-4 sm:p-5 border-t border-gray-200 dark:border-slate-700\">\n            <div className=\"space-y-3 sm:space-y-4\">\n              {/* Category Pills */}\n              <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\n                {Object.entries(categoryData).map(([key, category]) => {\n\n                  return (\n                    <motion.button\n                      key={key}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleCategoryClick(key);\n                      }}\n                      className=\"\n                        relative px-3 py-2.5 sm:px-4 sm:py-3 rounded-lg border transition-all duration-200\n                        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\n                        touch-manipulation min-h-[44px]\n                        bg-gray-100 text-gray-700 border-gray-400/30\n                        hover:bg-gray-200 hover:border-gray-500/40\n                        dark:bg-slate-700/50 dark:text-gray-300 dark:border-gray-400/20\n                        dark:hover:bg-slate-600/50 dark:hover:border-gray-300/40\n                      \"\n                      whileHover={{\n                        scale: 1.02,\n                        transition: { duration: 0.2, ease: \"easeOut\" }\n                      }}\n                      whileTap={{ scale: 0.98 }}\n                    >\n                      <div className=\"flex items-center justify-center gap-1.5 sm:gap-2\">\n                        <span className=\"text-sm\">{category.icon}</span>\n                        <span className=\"font-medium text-xs sm:text-sm truncate\">{category.label}</span>\n                      </div>\n                    </motion.button>\n                  );\n                })}\n              </div>\n\n              {/* Expanded Questions */}\n              <AnimatePresence>\n                {expandedCategory && (\n                  <motion.div\n                    initial={{ opacity: 0, height: 0 }}\n                    animate={{ opacity: 1, height: 'auto' }}\n                    exit={{ opacity: 0, height: 0 }}\n                    transition={{ duration: 0.3, ease: 'easeInOut' }}\n                    className=\"overflow-hidden\"\n                  >\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2\">\n                      {categoryData[expandedCategory].questions.map((question, index) => (\n                        <motion.button\n                          key={index}\n                          onClick={() => handleQuestionClick(question)}\n                          className=\"\n                            px-3 py-2.5 rounded-lg border text-xs sm:text-sm text-left transition-all duration-200\n                            focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\n                            touch-manipulation min-h-[44px]\n                            bg-gray-50 text-gray-700 border-gray-400/20\n                            hover:bg-gray-100 hover:border-gray-500/30 hover:text-gray-900\n                            dark:bg-slate-700/30 dark:text-gray-300 dark:border-gray-400/15\n                            dark:hover:bg-slate-600/40 dark:hover:border-gray-300/30 dark:hover:text-white\n                          \"\n                          initial={{ opacity: 0, y: -10 }}\n                          animate={{ opacity: 1, y: 0 }}\n                          transition={{ delay: index * 0.1 }}\n                          whileHover={{ scale: 1.01 }}\n                          whileTap={{ scale: 0.99 }}\n                        >\n                          {question}\n                        </motion.button>\n                      ))}\n                    </div>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n          </div>\n        )}\n\n        {/* Chat Input */}\n        <div className=\"flex-shrink-0 mt-4 mb-2\">\n          <ChatInput\n            onSend={handleSendMessage}\n            disabled={isTyping}\n            placeholder=\"Ask about my projects, skills, or experience...\"\n            theme={theme}\n            onFocus={onInputFocus}\n            onInputChange={onInputChange}\n          />\n        </div>\n\n        {/* Show Quick Action Pills below input when conversation has started */}\n        {currentMessages.length > 1 && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3, ease: 'easeInOut' }}\n            className=\"flex-shrink-0 p-4 sm:p-5 border-t border-gray-200 dark:border-slate-700\"\n          >\n            <div className=\"space-y-3 sm:space-y-4\">\n              {/* Category Pills */}\n              <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\n                {Object.entries(categoryData).map(([key, category]) => {\n\n                  return (\n                    <motion.button\n                      key={key}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleCategoryClick(key);\n                      }}\n                      className=\"\n                        relative px-2 py-2 sm:px-3 sm:py-2.5 rounded-lg border transition-all duration-200\n                        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\n                        touch-manipulation min-h-[40px]\n                        bg-gray-100 text-gray-700 border-gray-400/30\n                        hover:bg-gray-200 hover:border-gray-500/40\n                        dark:bg-slate-700/50 dark:text-gray-300 dark:border-gray-400/20\n                        dark:hover:bg-slate-600/50 dark:hover:border-gray-300/40\n                      \"\n                      whileHover={{\n                        scale: 1.02,\n                        transition: { duration: 0.2, ease: \"easeOut\" }\n                      }}\n                      whileTap={{ scale: 0.98 }}\n                    >\n                      <div className=\"flex items-center justify-center gap-1 sm:gap-1.5\">\n                        <span className=\"text-xs\">{category.icon}</span>\n                        <span className=\"font-medium text-xs truncate\">{category.label}</span>\n                      </div>\n                    </motion.button>\n                  );\n                })}\n              </div>\n\n              {/* Expanded Questions */}\n              <AnimatePresence>\n                {expandedCategory && (\n                  <motion.div\n                    initial={{ opacity: 0, height: 0 }}\n                    animate={{ opacity: 1, height: 'auto' }}\n                    exit={{ opacity: 0, height: 0 }}\n                    transition={{ duration: 0.3, ease: 'easeInOut' }}\n                    className=\"overflow-hidden\"\n                  >\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2\">\n                      {categoryData[expandedCategory].questions.map((question, index) => (\n                        <motion.button\n                          key={index}\n                          onClick={() => handleQuestionClick(question)}\n                          className=\"\n                            px-2 py-2 sm:px-3 sm:py-2.5 rounded-lg border text-xs text-left transition-all duration-200\n                            focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\n                            touch-manipulation min-h-[40px]\n                            bg-gray-50 text-gray-700 border-gray-400/20\n                            hover:bg-gray-100 hover:border-gray-500/30 hover:text-gray-900\n                            dark:bg-slate-700/30 dark:text-gray-300 dark:border-gray-400/15\n                            dark:hover:bg-slate-600/40 dark:hover:border-gray-300/30 dark:hover:text-white\n                          \"\n                          initial={{ opacity: 0, y: -10 }}\n                          animate={{ opacity: 1, y: 0 }}\n                          transition={{ delay: index * 0.1 }}\n                          whileHover={{ scale: 1.01 }}\n                          whileTap={{ scale: 0.99 }}\n                        >\n                          {question}\n                        </motion.button>\n                      ))}\n                    </div>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EnhancedAIChatWorking;"],"names":["apiKey","process","console","log","genAI","GoogleGenerativeAI","initializeGeminiChat","Error","getGenerativeModel","model","generationConfig","maxOutputTokens","temperature","startChat","history","role","parts","text","portfolioMarkdown","resumeMarkdown","buildDynamicContext","async","portfolioResponse","resumeResponse","Promise","all","fetch","ok","error","warn","fetchMarkdownContent","contextBlock","intent","aboutSection","match","personalFAQ","philosophy","personalContext","aboutCards","card","topic","one_liner","join","currentRole","workExperience","projectsSection","projectContext","projectCards","map","project","stack","CHAT_THEMES","default","name","colors","primary","surface","header","accent","accentRgb","avatar","button","buttonHover","ocean","forest","sunset","cosmic","minimal","SyntaxHighlighter","javascript","typescript","python","json","bash","sql","jsx","className","copiedCode","setCopiedCode","React","technicalTerms","projectNames","formatText","formatted","replace","forEach","term","regex","RegExp","parsedContent","message","lastIndex","codeBlockRegex","exec","index","push","type","content","slice","language","trim","length","parseMessage","part","toLowerCase","isCopied","initial","opacity","y","scale","animate","transition","delay","stiffness","damping","whileHover","whileTap","onClick","code","navigator","clipboard","writeText","setTimeout","handleCopyCode","size","style","oneDark","customStyle","margin","padding","background","fontSize","lineHeight","fontFamily","showLineNumbers","split","lineNumberStyle","minWidth","paddingRight","color","wrapLines","wrapLongLines","dangerouslySetInnerHTML","__html","timestamp","onCopy","onLike","isAI","copied","setCopied","useState","liked","setLiked","formatTimestamp","date","diff","Date","minutes","Math","floor","toLocaleTimeString","hour","minute","hour12","exit","mass","src","profileImage","alt","objectPosition","transform","x","duration","ease","title","onTranscript","disabled","theme","isListening","setIsListening","isSupported","setIsSupported","transcript","setTranscript","interimTranscript","setInterimTranscript","setError","recognitionRef","useRef","useEffect","SpeechRecognition","window","webkitSpeechRecognition","recognition","continuous","interimResults","lang","onstart","onend","onerror","event","errorMessage","onresult","finalTranscript","interimText","i","resultIndex","results","result","isFinal","prev","current","stop","stopListening","start","startListening","backgroundColor","borderColor","boxShadow","AnimatePresence","mode","repeat","Infinity","backdropFilter","Array","_","scaleY","onSend","placeholder","onFocus","onInputChange","setMessage","isFocused","setIsFocused","currentPlaceholder","setCurrentPlaceholder","placeholders","currentIndex","interval","setInterval","clearInterval","handleAutoFill","detail","textarea","document","querySelector","focus","setSelectionRange","value","addEventListener","removeEventListener","handleSubmit","e","preventDefault","onSubmit","borderTopColor","onChange","target","onKeyDown","key","shiftKey","onBlur","rows","minHeight","maxHeight","onMouseEnter","onMouseLeave","random","categoryData","projects","label","icon","questions","technical","experience","about","onQuestionSelect","chatSize","isFocusMode","onToggleSize","onToggleFocus","getChatIcon","onInputFocus","systemTheme","useTheme","currentTheme","setCurrentTheme","savedTheme","localStorage","getItem","autoTheme","changeTheme","themeId","setItem","availableThemes","Object","keys","useChatThemeStandalone","chatSessions","setChatSessions","currentChatId","isTyping","setIsTyping","expandedCategory","setExpandedCategory","messagesEndRef","EXPAND_REGEX","resolve","warmRagFromPublic","chatInstance","initialMessage","id","instance","messages","fallbackMessage","initializeFirstChat","chatContainer","closest","scrollTop","scrollHeight","addMessage","chatId","newMessage","now","handleSendMessage","messageText","currentChat","test","response","chat","lowerMessage","getMessageIntent","dynamicContext","wantsDetails","enhancedMessage","sendMessage","responseText","sendMessageToGemini","typingDelay","min","includes","handleCopyMessage","handleLikeMessage","substring","handleCategoryClick","categoryKey","handleQuestionClick","question","handleClickOutside","handleEscKey","currentMessages","ref","entries","category","stopPropagation","height"],"sourceRoot":""}